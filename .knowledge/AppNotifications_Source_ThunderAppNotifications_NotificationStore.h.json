{"is_source_file": true, "format": "C++", "description": "Header file defining in-memory notification data structures, JSON serialization/deserialization, and a thread-safe notification store class with TTL and retention policies.", "external_files": ["Module.h", "<unordered_map>", "<vector>", "<mutex>", "<atomic>", "<ctime>"], "external_methods": ["timegm", "_mkgmtime"], "published": ["Plugin::Notification", "Plugin::NotificationJSON", "Plugin::NotificationStore"], "classes": [{"name": "Notification", "description": "Represents a notification with metadata and payload."}, {"name": "NotificationJSON", "description": "Handles JSON serialization and deserialization of Notification objects."}, {"name": "NotificationStore", "description": "Manages storage, retrieval, and lifecycle of notifications with thread safety."}], "methods": [{"name": "Configure", "description": "Sets default TTL and maximum item count for the store."}, {"name": "Add", "description": "Adds a new notification; returns its id; evictedCountOut indicates number of evictions."}, {"name": "Ack", "description": "Acknowledges a notification by id and subscriber."}, {"name": "ClearById", "description": "Removes a notification specified by id."}, {"name": "ClearByFilter", "description": "Removes notifications matching filter criteria."}, {"name": "List", "description": "Retrieves notifications matching specified filters."}, {"name": "LoadFromFile", "description": "Loads notifications from a file for persistence."}, {"name": "SaveToFile", "description": "Saves current notifications to a file."}, {"name": "void From(const Notification & in)", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "bool IsExpired(const uint64_t nowEpoch) const", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "Notification()", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "NotificationJSON()", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "uint64_t ParseISO8601UTC(const string & iso)", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Notification To() const", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "int __anon7b2897000102(const char* b, size_t n)", "scope": "Plugin::NotificationJSON::ParseISO8601UTC", "scopeKind": "function", "description": "unavailable"}], "calls": ["timegm", "_mkgmtime"], "search-terms": ["NotificationStore", "NotificationJSON", "Notification", "expiry", "acknowledgment"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "AckedBy", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::ArrayType<Core::JSON::String> AckedBy;$/", "language": "C++", "typeref": "typename:Core::JSON::ArrayType<Core::JSON::String>", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Body", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String Body;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Data", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::VariantContainer Data;$/", "language": "C++", "typeref": "typename:Core::JSON::VariantContainer", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "ExpiresAt", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String ExpiresAt;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "From", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String From;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "From", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        void From(const Notification& in) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Notification & in)", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Id", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String Id;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "IsExpired", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        bool IsExpired(const uint64_t nowEpoch) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint64_t nowEpoch) const", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "Notification", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Notification()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "Notification", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^    struct Notification {$/", "language": "C++", "kind": "struct", "scope": "Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "NotificationJSON", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        NotificationJSON()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "NotificationJSON", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^    class NotificationJSON : public Core::JSON::Container {$/", "language": "C++", "kind": "class", "scope": "Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "NotificationStore", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^    class NotificationStore {$/", "language": "C++", "kind": "class", "scope": "Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ParseISO8601UTC", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        static uint64_t ParseISO8601UTC(const string& iso) {$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "function", "signature": "(const string & iso)", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "Priority", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::DecUInt8 Priority;$/", "language": "C++", "typeref": "typename:Core::JSON::DecUInt8", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "RequiresAck", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::Boolean RequiresAck;$/", "language": "C++", "typeref": "typename:Core::JSON::Boolean", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Tags", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::ArrayType<Core::JSON::String> Tags;$/", "language": "C++", "typeref": "typename:Core::JSON::ArrayType<Core::JSON::String>", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Timestamp", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String Timestamp;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Title", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String Title;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "To", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Notification To() const {$/", "language": "C++", "typeref": "typename:Notification", "kind": "function", "signature": "() const", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "Type", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::String Type;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "Plugin::NotificationJSON", "scopeKind": "class"}, {"_type": "tag", "name": "__anon7b2897000102", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^            auto to_int = [](const char* b, size_t n)->int {$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(const char* b, size_t n)", "scope": "Plugin::NotificationJSON::ParseISO8601UTC", "scopeKind": "function"}, {"_type": "tag", "name": "_adminLock", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        mutable std::mutex _adminLock;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "_byId", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        std::unordered_map<string, Notification> _byId; \\/\\/ id -> Notification$/", "language": "C++", "typeref": "typename:std::unordered_map<string,Notification>", "kind": "member", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "_defaultTTL", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        uint32_t _defaultTTL {0}; \\/\\/ seconds, 0=no expiry$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "_maxItems", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        uint32_t _maxItems {0};   \\/\\/ 0=no limit$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "_order", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        std::vector<string> _order; \\/\\/ insertion order for deterministic listing$/", "language": "C++", "typeref": "typename:std::vector<string>", "kind": "member", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "ackedBy", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        std::vector<string> ackedBy;       \\/\\/ subscriber ids that acked$/", "language": "C++", "typeref": "typename:std::vector<string>", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string body;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        Core::JSON::VariantContainer data; \\/\\/ arbitrary payload$/", "language": "C++", "typeref": "typename:Core::JSON::VariantContainer", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "expireEpoch", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        uint64_t expireEpoch {0};$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "expiresAt", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string expiresAt;                  \\/\\/ ISO8601 UTC when expires (optional)$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string from;  \\/\\/ appId\\/source$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string id;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "priority", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        uint8_t priority {0};              \\/\\/ 0-255$/", "language": "C++", "typeref": "typename:uint8_t", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "requiresAck", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        bool requiresAck {false};$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        std::vector<string> tags;          \\/\\/ optional tags$/", "language": "C++", "typeref": "typename:std::vector<string>", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string timestamp;                  \\/\\/ ISO8601 UTC when published$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string title;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "pattern": "/^        string type;  \\/\\/ notification topic\\/type$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "Plugin::Notification", "scopeKind": "struct"}], "hash": "e16256bce091f2f2f70eef4d14aefb3d", "format-version": 4, "code-base-name": "app-gateway", "filename": "AppNotifications/Source/ThunderAppNotifications/NotificationStore.h", "fields": [{"name": "Core::JSON::ArrayType<Core::JSON::String> AckedBy", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Body", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::VariantContainer Data", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String ExpiresAt", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String From", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Id", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::DecUInt8 Priority", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::Boolean RequiresAck", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::ArrayType<Core::JSON::String> Tags", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Timestamp", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Title", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Type", "scope": "Plugin::NotificationJSON", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex _adminLock", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<string,Notification> _byId", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t _defaultTTL", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t _maxItems", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "std::vector<string> _order", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "std::vector<string> ackedBy", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string body", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::JSON::VariantContainer data", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t expireEpoch", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string expiresAt", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string from", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string id", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint8_t priority", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool requiresAck", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::vector<string> tags", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string timestamp", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string title", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}, {"name": "string type", "scope": "Plugin::Notification", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"35": ""}]}