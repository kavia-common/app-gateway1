{"is_source_file": true, "format": "C++", "description": "This source file implements the NotificationStore class for managing notifications, including functions for adding, clearing, listing, loading from and saving to JSON files, and handling notification expiration and acknowledgment logic.", "external_files": ["NotificationStore.h"], "external_methods": ["Core::JSON::Container::Add", "Core::JSON::Container::FromString", "Core::JSON::Container::ToString"], "published": ["NotificationStore"], "classes": [{"name": "StoreJSON", "description": "A JSON container class for serializing and deserializing notifications."}], "methods": [{"name": "string ToISO8601UTC(const std::time_t t)", "description": "Converts a std::time_t timestamp to an ISO 8601 UTC string.", "scope": "Plugin::__anone7aa509b0111", "scopeKind": "namespace"}, {"name": "NotificationStore::Configure", "description": "Sets default TTL and maximum item count for the store."}, {"name": "NotificationStore::NextId", "description": "Generates a unique ID for notifications."}, {"name": "NotificationStore::NowISO8601", "description": "Returns current epoch time in ISO8601 format."}, {"name": "NotificationStore::NowEpoch", "description": "Returns current time as epoch timestamp."}, {"name": "NotificationStore::CleanupUnlocked", "description": "Removes expired notifications and enforces max items limit."}, {"name": "NotificationStore::Add", "description": "Adds a new notification to the store, assigns ID and expiration, and enforces cleanup."}, {"name": "NotificationStore::Ack", "description": "Acknowledges a notification by adding a 'by' identifier."}, {"name": "NotificationStore::ClearById", "description": "Removes a notification by its ID."}, {"name": "NotificationStore::ClearByFilter", "description": "Removes notifications matching appId, type, and unacknowledged only filter."}, {"name": "NotificationStore::List", "description": "Lists notifications filtered by appId, type, and acknowledgment status, limited by a maximum count."}, {"name": "NotificationStore::LoadFromFile", "description": "Loads notifications from a JSON file, deserializes them, and populates the store."}, {"name": "NotificationStore::SaveToFile", "description": "Serializes notifications to JSON and saves to a file."}, {"name": "bool Ack(const string & id,const string & by)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "string Add(const Notification & base,uint32_t ttlSeconds,uint32_t & evictedCountOut)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "void CleanupUnlocked(const uint64_t nowEpoch,uint32_t & evictedOut)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t ClearByFilter(const string & appId,const string & type,const bool onlyUnacked)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "bool ClearById(const string & id)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "void Configure(const uint32_t defaultTTLSeconds,const uint32_t maxItems)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "std::vector<Notification> List(const string & appId,const string & type,const bool onlyUnacked,uint32_t limit) const", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "bool LoadFromFile(const string & path,string & errorOut)", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "string NextId()", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint64_t NowEpoch()", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "string NowISO8601()", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "bool SaveToFile(const string & path,string & errorOut) const", "scope": "Plugin::NotificationStore", "scopeKind": "class", "description": "unavailable"}, {"name": "StoreJSON()", "scope": "Plugin::__anone7aa509b0111::StoreJSON", "scopeKind": "class", "description": "unavailable"}], "calls": ["gtime_s", "gtime_r", "std::put_time", "std::time", "std::ostringstream", "std::ifstream::open", "std::ifstream::close", "Buffering of JSON object methods (FromString, ToString)"], "search-terms": ["NotificationStore", "StoreJSON", "notification management", "JSON serialization", "notification expiration", "load notifications"], "state": 2, "file_id": 18, "knowledge_revision": 37, "git_revision": "", "ctags": [{"_type": "tag", "name": "Ack", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    bool NotificationStore::Ack(const string& id, const string& by) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & id,const string & by)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "Add", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    string NotificationStore::Add(const Notification& base, uint32_t ttlSeconds, uint32_t& evict/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const Notification & base,uint32_t ttlSeconds,uint32_t & evictedCountOut)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "CleanupUnlocked", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    void NotificationStore::CleanupUnlocked(const uint64_t nowEpoch, uint32_t& evictedOut) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint64_t nowEpoch,uint32_t & evictedOut)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "ClearByFilter", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    uint32_t NotificationStore::ClearByFilter(const string& appId, const string& type, const boo/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & appId,const string & type,const bool onlyUnacked)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "ClearById", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    bool NotificationStore::ClearById(const string& id) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & id)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    void NotificationStore::Configure(const uint32_t defaultTTLSeconds, const uint32_t maxItems)/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t defaultTTLSeconds,const uint32_t maxItems)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "List", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    std::vector<Notification> NotificationStore::List(const string& appId, const string& type, c/", "language": "C++", "typeref": "typename:std::vector<Notification>", "kind": "function", "signature": "(const string & appId,const string & type,const bool onlyUnacked,uint32_t limit) const", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "LoadFromFile", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    bool NotificationStore::LoadFromFile(const string& path, string& errorOut) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & path,string & errorOut)", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "NextId", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    string NotificationStore::NextId() {$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "()", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "Notifications", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^            Core::JSON::ArrayType<NotificationJSON> Notifications;$/", "file": true, "language": "C++", "typeref": "typename:Core::JSON::ArrayType<NotificationJSON>", "kind": "member", "scope": "Plugin::__anone7aa509b0111::StoreJSON", "scopeKind": "class"}, {"_type": "tag", "name": "NowEpoch", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    uint64_t NotificationStore::NowEpoch() {$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "function", "signature": "()", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "NowISO8601", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    string NotificationStore::NowISO8601() {$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "()", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "SaveToFile", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    bool NotificationStore::SaveToFile(const string& path, string& errorOut) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & path,string & errorOut) const", "scope": "Plugin::NotificationStore", "scopeKind": "class"}, {"_type": "tag", "name": "StoreJSON", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^            StoreJSON() : Notifications() {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "Plugin::__anone7aa509b0111::StoreJSON", "scopeKind": "class"}, {"_type": "tag", "name": "StoreJSON", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^        class StoreJSON : public Core::JSON::Container {$/", "file": true, "language": "C++", "kind": "class", "scope": "Plugin::__anone7aa509b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "ToISO8601UTC", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^        static string ToISO8601UTC(const std::time_t t) {$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const std::time_t t)", "scope": "Plugin::__anone7aa509b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "__anone7aa509b0111", "path": "/home/kavia/workspace/code-generation/app-gateway1/AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "pattern": "/^    namespace {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "Plugin", "scopeKind": "namespace"}], "hash": "b08cb4e9079808b8f2982f48a0695535", "format-version": 4, "code-base-name": "app-gateway", "filename": "AppNotifications/Source/ThunderAppNotifications/NotificationStore.cpp", "fields": [{"name": "Core::JSON::ArrayType<NotificationJSON> Notifications", "scope": "Plugin::__anone7aa509b0111::StoreJSON", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"37": ""}]}